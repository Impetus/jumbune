package com.impetus.jumbune.common.alerts;

import java.io.IOException;
import java.util.List;

import org.apache.hadoop.yarn.exceptions.YarnException;
import org.jumbune.common.beans.cluster.Cluster;

import com.impetus.jumbune.common.beans.Alert;




/**
 * The Interface YarnAlert.
 */
public interface YarnAlert {

	/**
	 * Gets the queue utilisation alert.
	 *
	 * @return the queue utilisation alert
	 * @throws YarnException the yarn exception
	 * @throws IOException Signals that an I/O exception has occurred.
	 */
	List <Alert> getQueueUtilisationAlert() throws YarnException, IOException;
	
	/**
	 * Gets the application failed alert.
	 *
	 * @return the application failed alert
	 * @throws IOException Signals that an I/O exception has occurred.
	 * @throws YarnException the yarn exception
	 */
	List <Alert> getApplicationFailedAlert() throws IOException, YarnException;
	
	/**
	 * Gets the container utilization alert.
	 *
	 * @param cluster the cluster
	 * @return the container utilization alert
	 * @throws IOException Signals that an I/O exception has occurred.
	 * @throws YarnException the yarn exception
	 */
	List <Alert> getContainerUtilizationAlert(Cluster cluster)throws IOException, YarnException;
	
	/**
	 * Gets the effective utlilzation alert.
	 *
	 * @param cluster the cluster
	 * @return the effective utlilzation alert
	 * @throws IOException Signals that an I/O exception has occurred.
	 * @throws InterruptedException the interrupted exception
	 * @throws YarnException the yarn exception
	 */
	List <Alert> getEffectiveUtlilzationAlert(Cluster cluster) throws IOException, InterruptedException, YarnException;
	
	/**
	 * Gets the resource manager down alert.
	 *
	 * @param cluster the cluster
	 * @return the resource manager down alert
	 * @throws IOException Signals that an I/O exception has occurred.
	 * @throws YarnException the yarn exception
	 * @throws InterruptedException the interrupted exception
	 */
	Alert getResourceManagerDownAlert (Cluster cluster) throws IOException,  YarnException, InterruptedException;
	
	/**
	 * Gets the node manager down alert.
	 *
	 * @param cluster the cluster
	 * @return the node manager down alert
	 */
	List<Alert> getNodeManagerDownAlert (Cluster cluster);
	
	/**
	 * Gets the node manager down alert.
	 *
	 * @param cluster the cluster
	 * @return the node manager went unhealthy alert
	 * @throws YarnException the yarn exception
	 * @throws IOException Signals that an I/O exception has occurred.
	 */
	List <Alert> getNodeUnhealthyAlert (Cluster cluster) throws YarnException,IOException;
	
	
	
	/**
	 * Check yarn property set correctly.
	 *
	 * @param cluster the cluster
	 * @return the list
	 */
	List<Alert> checkYarnPropertySetCorrectly(Cluster cluster);

	/**
	 * Gets the history server down alert.
	 *
	 * @param cluster the cluster
	 * @return the history server down alert
	 * @throws InterruptedException the interrupted exception
	 */
	Alert getHistoryServerDownAlert(Cluster cluster) throws InterruptedException;

	/**
	 * Gets the resource utilization alert.
	 *
	 * @param cluster the cluster
	 * @return the resource utilization alert
	 */
	List<Alert> getResourceUtilizationAlert(Cluster cluster, List<Alert> nmAlerts);
	
	/**
	 * Gets the cluster time desync alert.
	 *
	 * @return the cluster time desync alert
	 * @throws YarnException the yarn exception
	 * @throws IOException Signals that an I/O exception has occurred.
	 */
	List<Alert> getClusterTimeDesyncAlert() throws YarnException, IOException;
	
	/**
	 * Gets the child capacity alert.
	 *
	 * @return the child capacity alert
	 * @throws YarnException the yarn exception
	 * @throws IOException Signals that an I/O exception has occurred.
	 */
	List <Alert> getChildCapacityAlert() throws YarnException, IOException;

}
